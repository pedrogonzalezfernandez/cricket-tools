You are working inside an existing Replit Node.js project that already has:
- a “conductor” web UI and a “player” web UI
- realtime messaging between them (WebSockets / socket.io)
- player join flow: player enters a name, server assigns an index/slot, conductor sees name + index
- an existing tool that sends pitch + interval per player (DO NOT modify or break that tool)

GOAL: Add a SECOND tool/mode called “MultiTrack MP3 Sync” that lets the conductor assign MP3 files per player slot and start playback tightly synchronized across phones.

High-level requirements:
1) Fixed number of slots (default 8)
2) Slot assignment:
   - When a player connects, assign them the lowest free slot index.
   - If no slots free, show “No slots available”.
   - On player disconnect, free their slot immediately BUT keep the slot’s assigned MP3 file mapping.
   - If a new player joins later, they get the lowest free slot and automatically inherit that slot’s assigned MP3.
3) Conductor UI for this tool:
   - Show a list/grid of slots with:
     - slot index
     - current player name (or “empty”)
     - file assigned (filename or “none”)
     - readiness indicator for that slot (“file loaded” from the player client)
   - Drag & drop MP3 onto a slot OR click “Upload” for that slot.
   - Conductor can set a global “Start at (seconds)” seek value (float; default 0).
   - Buttons: PRELOAD (optional), PLAY, STOP.
4) Player UI for this tool:
   - Shows their slot index, name, and assigned file name.
   - Automatically downloads the assigned MP3 when it exists (or when it changes).
   - Uses Web Audio API: fetch mp3 as ArrayBuffer, decodeAudioData into an AudioBuffer.
   - Reports readiness back to server: {slotIndex, fileId, duration, ready:true}.
5) Tight synchronization:
   - Implement a simple time-sync between server and each client using socket.io ping/pong:
     - Client sends “timesync:ping” with clientSendTimeMs = Date.now()
     - Server responds immediately with serverTimeMs = Date.now() and echoes clientSendTimeMs
     - Client receives at clientRecvTimeMs = Date.now()
     - Estimate offsetMs = serverTimeMs - (clientSendTimeMs + (clientRecvTimeMs - clientSendTimeMs)/2)
     - Keep a smoothed offset (EMA) and a measured RTT.
   - When conductor presses PLAY:
     - Server sets playState:
       { playing:true, playId, serverStartTimeMs = Date.now()+2000, seekSeconds, perSlotFileIds }
     - Broadcast “play” to all connected players with {playId, serverStartTimeMs, seekSeconds, slotIndex, fileId}
   - Player scheduling:
     - Ensure AudioContext is resumed by user gesture once (mobile requirement).
     - Compute estimatedServerNowMs = Date.now() + offsetMs.
     - Compute secondsUntilStart = (serverStartTimeMs - estimatedServerNowMs)/1000.
     - Schedule WebAudio playback using AudioBufferSourceNode.start(
         audioContext.currentTime + max(secondsUntilStart, 0),
         seekSeconds
       )
     - If seekSeconds >= duration, do nothing (silence).
6) Join-in-progress sync:
   - If playState.playing is true when a player connects (or reconnects and gets assigned a slot),
     server should compute currentPlayheadSeconds =
       playState.seekSeconds + (Date.now() - playState.serverStartTimeMs)/1000
     and send a “play” message with serverStartTimeMs = Date.now()+500 and seekSeconds=currentPlayheadSeconds
     so they join in sync quickly.
7) File handling:
   - Implement per-slot upload via HTTP endpoint:
     POST /api/upload/slot/:slotIndex (multipart/form-data, field name “file”)
     Accept only audio/mpeg and .mp3, limit size (e.g., 15MB configurable).
   - Save file with unique id (timestamp + random) and keep mapping slotIndex -> fileId -> filepath.
   - Provide GET /api/files/:fileId to download file (use correct Content-Type).
   - When a file is assigned to a slot, notify:
     - conductor UI updates
     - any connected player in that slot begins download+decode
8) Keep the existing tool intact:
   - Add routing so conductor can switch between tools (existing synth tool vs MP3 Sync tool),
     or add a new URL path /tool/mp3sync for conductor and /player/mp3sync for players.
9) Provide clean, working code:
   - Server: Node.js + Express + socket.io + multer
   - Client: vanilla JS (or whatever framework is already used), but minimal dependencies.
   - Include clear comments and console logs for debugging.
   - Make sure mobile autoplay restrictions are handled: show a “Tap to enable audio” button on player page that calls audioContext.resume().